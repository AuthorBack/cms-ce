<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context" xmlns:mvc="http://www.springframework.org/schema/mvc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd">

  <context:annotation-config/>
  <mvc:annotation-driven/>
  <context:component-scan base-package="com.enonic.cms.web.portal"/>

  <!--bean id="siteExceptionResolver" class="com.enonic.cms.web.portal.PortalExceptionResolver"/>
  <bean id="autoLoginInterceptor" class="com.enonic.cms.web.portal.interceptor.AutoLoginInterceptor"/>
  <bean id="basicAuthInterceptor" class="com.enonic.cms.web.portal.interceptor.BasicAuthInterceptor"/>
  <bean id="httpInterceptorInterceptor" class="com.enonic.cms.web.portal.interceptor.HttpInterceptorInterceptor"/>
  <bean id="sitePathResolver" class="com.enonic.cms.web.portal.PortalSitePathResolver"/>

  <bean id="defaultHandlerMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="order" value="1"/>
    <property name="alwaysUseFullPath" value="true"/>
    <property name="mappings">
      <props>
        <prop key="/site/*/_captcha">captchaController</prop>
      </props>
    </property>
  </bean>

  <bean id="legacyHandlerMappingWithoutAutoLoginPlugin" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="order" value="2"/>
    <property name="alwaysUseFullPath" value="true"/>
    <property name="mappings">
      <props>
        <prop key="/site/*/_public/**">resourceFileController</prop>
        <prop key="/site/*/~/**">resourceFileController</prop>
      </props>
    </property>
  </bean>

  <bean id="legacyHandlerMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="order" value="3"/>
    <property name="alwaysUseFullPath" value="true"/>
    <property name="mappings">
      <props>
        <prop key="/site/*/_services/**">userServicesController</prop>
        <prop key="/site/**/_attachment">attachmentController</prop>
        <prop key="/site/**/_attachment/**">attachmentController</prop>
        <prop key="/site/**/_image/**">imageController</prop>
      </props>
    </property>
    <property name="interceptors">
      <list>
        <ref bean="autoLoginInterceptor"/>
        <ref bean="basicAuthInterceptor"/>
        <ref bean="httpInterceptorInterceptor"/>
      </list>
    </property>
  </bean>

  <bean id="userServicesMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="order" value="4"/>
    <property name="alwaysUseFullPath" value="true"/>
    <property name="mappings">
      <props>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.ContentHandlerBaseServlet">contentHandlerBaseController</prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.ContentSendMailServlet">contentSendMailController</prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.FormHandlerServlet">formHandlerController</prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.PollHandlerServlet">pollHandlerController</prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.SendMailServlet">sendMailController</prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.UserHandlerServlet">userHandlerController</prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.VerticalSessionHandlerServlet">verticalSessionHandlerController
        </prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.PortalHandlerServlet">portalHandlerController</prop>
        <prop key="/site/**/servlet/com.enonic.vertical.userservices.CustomContentHandlerServlet">customContentHandlerController
        </prop>
      </props>
    </property>
  </bean>

  <bean id="mainHandlerMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
    <property name="order" value="5"/>
    <property name="alwaysUseFullPath" value="true"/>
    <property name="mappings">
      <props>
        <prop key="/site/**">renderPageController</prop>
      </props>
    </property>
    <property name="interceptors">
      <list>
        <ref bean="autoLoginInterceptor"/>
        <ref bean="basicAuthInterceptor"/>
        <ref bean="httpInterceptorInterceptor"/>
      </list>
    </property>
  </bean>

  <bean id="userServicesController" class="com.enonic.cms.web.portal.UserServicesController"/>
  <bean id="portalRenderResultServer" class="com.enonic.cms.web.portal.PortalRenderResponseServer"/>
  <bean id="userServicesAccessManager" class="com.enonic.cms.web.portal.userservices.UserServicesAccessManagerImpl"/>
  <bean id="contentHandlerBaseController" class="com.enonic.cms.web.portal.userservices.ContentHandlerBaseController"/>
  <bean id="contentSendMailController" class="com.enonic.cms.web.portal.userservices.ContentSendMailController"/>
  <bean id="formHandlerController" class="com.enonic.cms.web.portal.userservices.FormHandlerController"/>
  <bean id="pollHandlerController" class="com.enonic.cms.web.portal.userservices.PollHandlerController"/>
  <bean id="sendMailController" class="com.enonic.cms.web.portal.userservices.SendMailController"/>
  <bean id="userHandlerController" class="com.enonic.cms.web.portal.userservices.UserHandlerController"/>
  <bean id="customContentHandlerController" class="com.enonic.cms.web.portal.userservices.CustomContentHandlerController"/>
  <bean id="verticalSessionHandlerController" class="com.enonic.cms.web.portal.userservices.VerticalSessionHandlerController"/>
  <bean id="portalHandlerController" class="com.enonic.cms.web.portal.userservices.PortalHandlerController"/>
  <bean id="siteRedirectAndForwardHelper" class="com.enonic.cms.web.portal.SiteRedirectAndForwardHelper"/>
  <bean id="siteRedirectHelper" class="com.enonic.cms.web.portal.SiteRedirectHelper"/-->

</beans>
